(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-18df3598"],{"49a8":function(e,t,r){"use strict";r.r(t);r("a4d3"),r("e01a");var c=r("7a23"),a=Object(c["g"])("h1",{class:"p-1 px-2"},"Post new product",-1),n={class:"form-template-1"},o=Object(c["g"])("div",{class:"form-header"},[Object(c["g"])("h2",{class:"text-center p-2"},"Upload Product")],-1),s={class:"form-control"},u=Object(c["g"])("label",{for:"img-file"},"Upload Image",-1),i={type:"file",ref:"photo",required:""},l={class:"grid"},d={class:"form-control"},b=Object(c["g"])("label",{for:"img-category"},"Image Category",-1),p=Object(c["g"])("option",{disabled:"",hidden:"",selected:""},"Select category",-1),g=["value"],m={class:"form-control"},j=Object(c["g"])("label",{for:"img-price"},"Image Price",-1),O={class:"logo-input"},f=Object(c["g"])("div",{class:"logo"},"$",-1),v={class:"form-control"},h=Object(c["g"])("label",{for:"img-title"},"Image Title",-1),y={class:"form-control"},k=Object(c["g"])("label",{for:"img-quantity"},"Stock Quantity",-1),w={class:"form-control"},I=Object(c["g"])("label",{for:"img-description"},"Image Description",-1),C=Object(c["g"])("button",{type:"submit",class:"btn btn-outline"},"UPLOAD",-1);function x(e,t,r,x,S,P){var U=Object(c["A"])("Header"),q=Object(c["A"])("StatCheck");return Object(c["t"])(),Object(c["f"])(c["a"],null,[Object(c["j"])(U,{header:"Product"}),a,x.statCheck?(Object(c["t"])(),Object(c["d"])(q,{key:0,statCheck:x.statCheck},null,8,["statCheck"])):Object(c["e"])("",!0),Object(c["g"])("div",n,[o,Object(c["g"])("form",{onSubmit:t[5]||(t[5]=Object(c["J"])((function(){return x.formSubmit&&x.formSubmit.apply(x,arguments)}),["prevent"])),enctype:"multipart/form-data"},[Object(c["g"])("div",s,[u,Object(c["g"])("input",i,null,512)]),Object(c["g"])("div",l,[Object(c["g"])("div",d,[b,Object(c["I"])(Object(c["g"])("select",{"onUpdate:modelValue":t[0]||(t[0]=function(e){return x.form.categoryId=e}),required:""},[p,(Object(c["t"])(!0),Object(c["f"])(c["a"],null,Object(c["z"])(x.categories,(function(e){return Object(c["t"])(),Object(c["f"])("option",{key:e._id,value:e._id},Object(c["C"])(e.type),9,g)})),128))],512),[[c["E"],x.form.categoryId]])]),Object(c["g"])("div",m,[j,Object(c["g"])("div",O,[f,Object(c["I"])(Object(c["g"])("input",{type:"number",placeholder:"Image price...","onUpdate:modelValue":t[1]||(t[1]=function(e){return x.form.price=e}),required:""},null,512),[[c["F"],x.form.price]])])]),Object(c["g"])("div",v,[h,Object(c["I"])(Object(c["g"])("input",{type:"text",placeholder:"Image title...","onUpdate:modelValue":t[2]||(t[2]=function(e){return x.form.title=e}),required:""},null,512),[[c["F"],x.form.title]])]),Object(c["g"])("div",y,[k,Object(c["I"])(Object(c["g"])("input",{type:"number",placeholder:"Product Quantity...","onUpdate:modelValue":t[3]||(t[3]=function(e){return x.form.stockQuantity=e}),required:""},null,512),[[c["F"],x.form.stockQuantity]])])]),Object(c["g"])("div",w,[I,Object(c["I"])(Object(c["g"])("textarea",{rows:"4",placeholder:"Describe The Product...","onUpdate:modelValue":t[4]||(t[4]=function(e){return x.form.description=e}),required:""},null,512),[[c["F"],x.form.description]])]),C],32)])],64)}var S=r("1da1"),P=(r("96cf"),r("0418")),U=r("579d"),q=r("5502"),Q=r("a1e9"),F=r("5c40"),V={name:"ProductForm",components:{Header:P["a"],StatCheck:U["a"]},setup:function(){var e=Object(q["b"])(),t=Object(Q["m"])(null),r=Object(Q["m"])({categoryId:"",ownerId:"",title:"",description:"",price:"",stockQuantity:""}),c=Object(Q["m"])({status:"",err:""}),a=Object(Q["m"])([]);Object(F["y"])(Object(S["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.dispatch("getCategories");case 2:return t.next=4,e.getters.getCategoryState;case 4:return c.value.status=t.sent,t.next=7,e.getters.categoryError;case 7:return c.value.err=t.sent,t.next=10,e.getters.categories;case 10:return a.value=t.sent,t.next=13,e.getters.user._id;case 13:r.value.ownerId=t.sent;case 14:case"end":return t.stop()}}),t)}))));var n=function(){var a=Object(S["a"])(regeneratorRuntime.mark((function a(){var n,o;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return n=new FormData,n.append("photo",t.value.files[0]),n.append("categoryId",r.value.categoryId),n.append("ownerId",r.value.ownerId),n.append("title",r.value.title),n.append("description",r.value.description),n.append("price",r.value.price),n.append("stockQuantity",r.value.stockQuantity),a.next=10,e.dispatch("postProduct",n);case 10:if(o=a.sent,!0!==o.success){a.next=15;break}c.value.status=o.msg,a.next=19;break;case 15:return a.next=17,e.getters.authState;case 17:c.value.status=a.sent,c.value.err=o.err;case 19:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}}();return{form:r,photo:t,formSubmit:n,statCheck:c,categories:a}}},D=r("6b0d"),R=r.n(D);const A=R()(V,[["render",x]]);t["default"]=A},"579d":function(e,t,r){"use strict";var c=r("7a23"),a={key:0},n={class:"card p-0-5 alert-success mw-small m-auto"},o={key:1},s={class:"card p-0-5 alert-error mw-small m-auto"};function u(e,t,r,u,i,l){return Object(c["t"])(),Object(c["f"])(c["a"],null,[""!==r.statCheck.status?(Object(c["t"])(),Object(c["f"])("div",a,[Object(c["g"])("div",n,[Object(c["g"])("span",null,Object(c["C"])(r.statCheck.status),1)])])):Object(c["e"])("",!0),""!==r.statCheck.err?(Object(c["t"])(),Object(c["f"])("div",o,[Object(c["g"])("div",s,[Object(c["g"])("span",null,Object(c["C"])(r.statCheck.err),1)])])):Object(c["e"])("",!0)],64)}var i={name:"StatCheck",props:{statCheck:{type:Object,default:""}}},l=r("6b0d"),d=r.n(l);const b=d()(i,[["render",u]]);t["a"]=b}}]);
//# sourceMappingURL=chunk-18df3598.b47f9d41.js.map