(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-38c9003e"],{"79df":function(e,t,a){"use strict";a.r(t);var c=a("7a23"),s=function(e){return Object(c["x"])("data-v-35ad0766"),e=e(),Object(c["v"])(),e},n={class:"row"},r={class:"col-xl-8 col-lg-7"},u={class:"card shadow mb-4"},o=s((function(){return Object(c["g"])("div",{class:"card-header py-3 d-flex flex-row align-items-center justify-content-between"},[Object(c["g"])("h6",{class:"m-0 font-weight-bold text-primary"},"Messages")],-1)})),i={class:"card-body"},l={class:"p-1"},b={key:1,class:"scroll-container"},d={class:"card-footer"},f=s((function(){return Object(c["g"])("button",{type:"submit"},[Object(c["g"])("i",{class:"far fa-paper-plane"})],-1)}));function j(e,t,a,s,j,O){var m=Object(c["C"])("StatCheck"),v=Object(c["C"])("MainLayout");return Object(c["u"])(),Object(c["d"])(v,{header:"Chax Box"},{"body-content":Object(c["I"])((function(){return[Object(c["g"])("div",n,[Object(c["g"])("div",r,[Object(c["g"])("div",u,[o,Object(c["g"])("div",i,[Object(c["g"])("div",l,[s.statCheck?(Object(c["u"])(),Object(c["d"])(m,{key:0,statCheck:s.statCheck},null,8,["statCheck"])):Object(c["e"])("",!0),s.chats&&s.user?(Object(c["u"])(),Object(c["f"])("div",b,[(Object(c["u"])(!0),Object(c["f"])(c["a"],null,Object(c["A"])(s.chats.message,(function(e){return Object(c["u"])(),Object(c["f"])("div",{key:e.index,class:"my-1"},[Object(c["g"])("div",null,[Object(c["g"])("span",{class:Object(c["p"])(["message",e.userId==s.user._id?"current-user":""])},Object(c["E"])(e.message),3)])])})),128))])):Object(c["e"])("",!0),Object(c["g"])("div",d,[Object(c["g"])("form",{class:"send-form",onSubmit:t[1]||(t[1]=Object(c["K"])((function(){return s.formSubmit&&s.formSubmit.apply(s,arguments)}),["prevent"])),enctype:"multipart/form-data"},[Object(c["J"])(Object(c["g"])("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=function(e){return s.form.text=e}),class:"",placeholder:"Message",required:""},null,512),[[c["G"],s.form.text]]),f],32)])])])])])])]})),_:1})}var O=a("1da1"),m=(a("96cf"),a("be7f")),v=a("579d"),p=a("9c93"),g=a("5c40"),h=a("5502"),x={name:"Home",components:{MainLayout:m["a"],StatCheck:v["a"],Post:p["a"]},props:["id"],setup:function(e){var t=Object(c["z"])(null),a=Object(c["z"])(null),s=Object(c["z"])({text:""}),n=Object(c["z"])({status:"",err:""}),r=function(){var e=document.getElementsByClassName("scroll-container");e.scrollTop=e.scrollHeight},u=Object(h["b"])();Object(g["z"])(Object(O["a"])(regeneratorRuntime.mark((function c(){var s;return regeneratorRuntime.wrap((function(c){while(1)switch(c.prev=c.next){case 0:return s={friendId:e.id},c.next=3,u.dispatch("getChats",s);case 3:return c.next=5,u.getters.getPostsState;case 5:return n.value.status=c.sent,c.next=8,u.getters.user;case 8:return a.value=c.sent,c.next=11,u.getters.chats;case 11:t.value=c.sent,null!=t.value&&r();case 13:case"end":return c.stop()}}),c)}))));var o=function(){var c=Object(O["a"])(regeneratorRuntime.mark((function c(){var o,i;return regeneratorRuntime.wrap((function(c){while(1)switch(c.prev=c.next){case 0:return o={friendId:e.id,message:s.value.text},n.value.status="Sending...",n.value.err="",c.next=5,u.dispatch("saveChat",o);case 5:if(i=c.sent,t.value.message.push({userId:a.value._id,message:s.value.text}),s.value.text="",r(),!0!==i.success){c.next=14;break}n.value.status=i.msg,setTimeout((function(){n.value.status=""}),3e3),c.next=18;break;case 14:return c.next=16,u.getters.authState;case 16:n.value.status=c.sent,n.value.err=i.err;case 18:case"end":return c.stop()}}),c)})));return function(){return c.apply(this,arguments)}}();return{form:s,formSubmit:o,statCheck:n,chats:t,user:a}}},k=(a("7a1a"),a("6b0d")),w=a.n(k);const y=w()(x,[["render",j],["__scopeId","data-v-35ad0766"]]);t["default"]=y},"7a1a":function(e,t,a){"use strict";a("fda6")},fda6:function(e,t,a){}}]);
//# sourceMappingURL=chunk-38c9003e.98650d5d.js.map