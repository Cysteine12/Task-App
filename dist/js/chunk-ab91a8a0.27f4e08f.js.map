{"version":3,"sources":["webpack:///./src/views/User/ChatList.vue","webpack:///./src/views/User/ChatList.vue?1748","webpack:///./src/views/User/ChatList.vue?fc32"],"names":["class","id","header","body-content","chats","length","statCheck","chat","to","getFriendId","key","index","src","photo","alt","name","message","getTime","updatedAt","getDate","components","MainLayout","StatCheck","Post","setup","store","user","status","err","getters","value","dispatch","getPostsState","postsError","userA","_id","userB","datetime","newDate","Date","toString","substring","__exports__","render"],"mappings":"qOAGSA,MAAM,MAAMC,GAAG,Y,GACbD,MAAM,qB,aAIAA,MAAM,oB,uBACP,eAIM,OAJDA,MAAM,+EAA6E,CACpF,eAEO,QAFDA,MAAM,6DAA4D,sB,SAIvEA,MAAM,a,GAQEA,MAAM,6B,GACJA,MAAM,oB,iCAGP,eAA+C,OAA1CA,MAAM,+BAA6B,Y,GAGrCA,MAAM,6D,GACNA,MAAM,wB,GAIRA,MAAM,wB,GACNA,MAAM,wB,SAMfA,MAAM,Y,iJAxC5B,eA+Ca,GA/CDE,OAAO,gBAAc,CACpBC,eAAY,gBACrB,iBA2CI,CA3CJ,eA2CI,MA3CJ,EA2CI,CA1CF,eAyCM,MAzCN,EAyCM,CAtCS,EAAAC,MAAMC,OAAM,G,iBAAvB,eAiCM,SAhCJ,eA+BM,MA/BN,EA+BM,CA9BF,EAKA,eAwBM,MAxBN,EAwBM,CAvBe,EAAAC,W,iBAAjB,eAAqD,G,MAAxBA,UAAW,EAAAA,W,iEACxC,eAqBc,2BAnBK,EAAAF,OAAK,SAAbG,G,wBAFX,eAqBc,GApBTC,GAAE,gBAAW,EAAAC,YAAYF,IAEzBG,IAAKH,EAAKI,MACXX,MAAM,2F,yBAEN,iBAUM,CAVN,eAUM,MAVN,EAUM,CATJ,eAIM,MAJN,EAIM,CAHF,eACc,OADTA,MAAM,iBAAkBY,IAAKL,EAAKM,MACnCC,IAAI,O,UACR,IAEJ,eAGM,YAFJ,eAA4F,MAA5F,EAA4F,eAAlBP,EAAKQ,MAAI,GACnF,eAA8D,MAA9D,EAA8D,eAAxBR,EAAKS,SAAU,MAAG,OAG5D,eAGM,YAFJ,eAAsE,MAAtE,EAAsE,eAAhC,EAAAC,QAAQV,EAAKW,YAAS,GAC5D,eAAsE,MAAtE,EAAsE,eAAhC,EAAAC,QAAQZ,EAAKW,YAAS,S,oDAM5E,eAEM,MAFN,EAA6B,4B,kHAkBxB,GACdH,KAAM,OACLK,WAAY,CACVC,aAAA,KACAC,YAAA,KACAC,OAAA,MAEFC,MAPa,WAQX,IAAMC,EAAQ,iBAERrB,EAAQ,eAAI,IACZsB,EAAO,eAAI,MACXpB,EAAY,eAAI,CACpBqB,OAAQ,GACRC,IAAK,KAIP,eAAS,wCAAC,8GACaH,EAAMI,QAAQH,KAD3B,cACNA,EAAKI,MADC,gBAGAL,EAAMM,SAAS,eAHf,uBAKyBN,EAAMI,QAAQG,cALvC,cAKN1B,EAAUwB,MAAMH,OALV,iBAMsBF,EAAMI,QAAQI,WANpC,eAMN3B,EAAUwB,MAAMF,IANV,iBAOcH,EAAMI,QAAQzB,MAP5B,QAONA,EAAM0B,MAPA,oDAUV,IAAMrB,EAAc,SAACF,GACjB,OAAIA,EAAK2B,OAASR,EAAKI,MAAMK,IAClB5B,EAAK6B,MAEL7B,EAAK2B,OAGdf,EAAU,SAACkB,GACb,IAAMC,EAAU,IAAIC,KAAKF,GAAUG,WACnC,OAAOF,EAAQG,UAAU,EAAG,KAE1BxB,EAAU,SAACoB,GACb,IAAMC,EAAU,IAAIC,KAAKF,GAAUG,WACnC,OAAOF,EAAQG,UAAU,GAAI,KAGjC,MAAO,CACLnC,YACAF,QACAK,cACAU,UACAF,a,iCCrGN,MAAMyB,EAA2B,IAAgB,EAAQ,CAAC,CAAC,SAASC,GAAQ,CAAC,YAAY,qBAE1E,gB,yDCTf","file":"js/chunk-ab91a8a0.27f4e08f.js","sourcesContent":["<template>\r\n<MainLayout header=\"My Chat List\">\r\n  <template #body-content>\r\n    <div class=\"row\" id=\"page-top\">\r\n      <div class=\"col-xl-8 col-lg-7\">\r\n\r\n          <!-- Approach -->\r\n          <div v-if=\"chats.length > 0\">\r\n            <div class=\"card shadow mb-4\">\r\n                <div class=\"card-header py-3 d-flex flex-row align-items-center justify-content-between\">\r\n                    <span class=\"my-0 mx-3 font-weight-bold text-primary inline text-start\">\r\n                        Your Chat List\r\n                    </span>\r\n                </div>\r\n                <div class=\"card-body\">\r\n                    <StatCheck v-if=\"statCheck\" :statCheck=\"statCheck\" />\r\n                    <router-link \r\n                        :to=\"`/chat/${getFriendId(chat)}`\"\r\n                        v-for=\"chat in chats\"\r\n                        :key=\"chat.index\"\r\n                        class=\"card my-2 py-2 px-3 nav-link d-flex flex-row align-items-center justify-content-between\"\r\n                    >\r\n                        <div class=\"d-flex align-items-center\">\r\n                          <div class=\"image-small mr-3\">\r\n                              <img class=\"rounded-circle\" :src=\"chat.photo\"\r\n                                  alt=\"...\">\r\n                              <div class=\"status-indicator bg-success\"></div>\r\n                          </div>\r\n                          <div>\r\n                            <div class=\"my-0 mx-0 font-weight-bold text-primary inline text-start\">{{ chat.name }}</div>\r\n                            <div class=\"my-0 mx-0 font-small\"> {{ chat.message }}...</div>\r\n                          </div>\r\n                        </div>\r\n                        <div>\r\n                          <div class=\"my-0 mx-0 font-small\"> {{ getTime(chat.updatedAt) }}</div>\r\n                          <div class=\"my-0 mx-0 font-small\"> {{ getDate(chat.updatedAt) }}</div>\r\n                        </div>\r\n                    </router-link>\r\n                </div>\r\n            </div>\r\n          </div>\r\n          <div v-else class=\"card p-3\">\r\n            No chats yet!\r\n          </div>\r\n\r\n      </div>\r\n  </div>\r\n  </template>\r\n</MainLayout>\r\n</template>\r\n\r\n<script>\r\nimport MainLayout from '@/components/MainLayout.vue'\r\nimport StatCheck from '@/components/StatCheck.vue'\r\nimport Post from '@/components/Post.vue'\r\nimport { onMounted } from '@vue/runtime-core'\r\nimport { ref } from 'vue'\r\nimport { useStore } from 'vuex'\r\n\r\nexport default {\r\n name: 'Home',\r\n  components: {\r\n    MainLayout,\r\n    StatCheck,\r\n    Post\r\n  },\r\n  setup() {\r\n    const store = useStore()\r\n\r\n    const chats = ref([])\r\n    const user = ref(null)\r\n    const statCheck = ref({\r\n      status: '',\r\n      err: ''\r\n    })\r\n\r\n\r\n    onMounted(async () => {\r\n        user.value = await store.getters.user\r\n\r\n        await store.dispatch('getChatList')\r\n        \r\n        statCheck.value.status = await store.getters.getPostsState\r\n        statCheck.value.err = await store.getters.postsError\r\n        chats.value = await store.getters.chats\r\n    })\r\n\r\n    const getFriendId = (chat) =>{\r\n        if (chat.userA == user.value._id) {\r\n            return chat.userB\r\n        } else {\r\n            return chat.userA\r\n        }\r\n    }\r\n    const getDate = (datetime) =>{\r\n        const newDate = new Date(datetime).toString()\r\n        return newDate.substring(0, 15)\r\n    }\r\n    const getTime = (datetime) =>{\r\n        const newDate = new Date(datetime).toString()\r\n        return newDate.substring(16, 21)\r\n    }\r\n\r\n    return {\r\n      statCheck,\r\n      chats,\r\n      getFriendId,\r\n      getDate,\r\n      getTime,\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.nav-link:hover {\r\n    background: #d3d3d3;\r\n}\r\n\r\n.font-small {\r\n  font-size: 10px;\r\n}\r\n\r\n.image-small img {\r\n  max-height: 30px;\r\n  width: 30px;\r\n}\r\n</style>","import { render } from \"./ChatList.vue?vue&type=template&id=3aa14876&scoped=true\"\nimport script from \"./ChatList.vue?vue&type=script&lang=js\"\nexport * from \"./ChatList.vue?vue&type=script&lang=js\"\n\nimport \"./ChatList.vue?vue&type=style&index=0&id=3aa14876&scoped=true&lang=css\"\n\nimport exportComponent from \"C:\\\\Downloads\\\\Vision\\\\files\\\\Fiverr\\\\Gigs\\\\Task-App\\\\client\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-3aa14876\"]])\n\nexport default __exports__","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./ChatList.vue?vue&type=style&index=0&id=3aa14876&scoped=true&lang=css\""],"sourceRoot":""}